var BarcodeDetectionAPI=function(D){"use strict";var vr=D=>{throw TypeError(D)};var mr=(D,I,B)=>I.has(D)||vr("Cannot "+B);var he=(D,I,B)=>(mr(D,I,"read from private field"),B?B.call(D):I.get(D)),yr=(D,I,B)=>I.has(D)?vr("Cannot add the same private member more than once"):I instanceof WeakSet?I.add(D):I.set(D,B),gr=(D,I,B,Pt)=>(mr(D,I,"write to private field"),Pt?Pt.call(D,B):I.set(D,B),B);var it;const I=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function B(i){return i.join("|")}function Pt(i){const h=pe(i);let v=0,$=I.length-1;for(;v<=$;){const c=Math.floor((v+$)/2),y=I[c],M=pe(y);if(M===h)return y;M<h?v=c+1:$=c-1}return"None"}function pe(i){return i.toLowerCase().replace(/_-\[\]/g,"")}function $r(i,h){return i.Binarizer[h]}function wr(i,h){return i.CharacterSet[h]}const br=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Cr(i){return br[i.value]}function Tr(i,h){return i.EanAddOnSymbol[h]}function Pr(i,h){return i.TextMode[h]}const ot={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function ve(i,h){return{...h,formats:B(h.formats),binarizer:$r(i,h.binarizer),eanAddOnSymbol:Tr(i,h.eanAddOnSymbol),textMode:Pr(i,h.textMode),characterSet:wr(i,h.characterSet)}}function me(i){return{...i,format:Pt(i.format),eccLevel:i.eccLevel,contentType:Cr(i.contentType)}}const Er={locateFile:(i,h)=>{const v=i.match(/_(.+?)\.wasm$/);return v?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.2.12/dist/${v[1]}/${i}`:h+i}};let Nt=new WeakMap;function Gt(i,h){var v;const $=Nt.get(i);if($!=null&&$.modulePromise&&h===void 0)return $.modulePromise;const c=(v=$==null?void 0:$.moduleOverrides)!=null?v:Er,y=i({...c});return Nt.set(i,{moduleOverrides:c,modulePromise:y}),y}function _r(i,h){Nt.set(i,{moduleOverrides:h})}async function Ar(i,h,v=ot){const $={...ot,...v},c=await Gt(i),{size:y}=h,M=new Uint8Array(await h.arrayBuffer()),U=c._malloc(y);c.HEAPU8.set(M,U);const V=c.readBarcodesFromImage(U,y,ve(c,$));c._free(U);const H=[];for(let W=0;W<V.size();++W)H.push(me(V.get(W)));return H}async function xr(i,h,v=ot){const $={...ot,...v},c=await Gt(i),{data:y,width:M,height:U,data:{byteLength:V}}=h,H=c._malloc(V);c.HEAPU8.set(y,H);const W=c.readBarcodesFromPixmap(H,M,U,ve(c,$));c._free(H);const q=[];for(let z=0;z<W.size();++z)q.push(me(W.get(z)));return q}({...ot,formats:[...ot.formats]});var Et=(()=>{var i,h=typeof document<"u"?(i=document.currentScript)==null?void 0:i.src:void 0;return function(v={}){var $,c=v,y,M,U=new Promise((e,t)=>{y=e,M=t}),V=typeof window=="object",H=typeof Bun<"u",W=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var q=Object.assign({},c),z="./this.program",k="";function At(e){return c.locateFile?c.locateFile(e,k):k+e}var dt,ft;(V||W||H)&&(W?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),h&&(k=h),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),W&&(ft=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),dt=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url))));var Xt=c.print||console.log.bind(console),st=c.printErr||console.error.bind(console);Object.assign(c,q),q=null,c.arguments&&c.arguments,c.thisProgram&&(z=c.thisProgram),c.quit&&c.quit;var ht;c.wasmBinary&&(ht=c.wasmBinary);var xt,xe=!1,N,O,ut,pt,tt,b,De,Fe;function Oe(){var e=xt.buffer;c.HEAP8=N=new Int8Array(e),c.HEAP16=ut=new Int16Array(e),c.HEAPU8=O=new Uint8Array(e),c.HEAPU16=pt=new Uint16Array(e),c.HEAP32=tt=new Int32Array(e),c.HEAPU32=b=new Uint32Array(e),c.HEAPF32=De=new Float32Array(e),c.HEAPF64=Fe=new Float64Array(e)}var Se=[],je=[],Ie=[];function Xr(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Qr(c.preRun.shift());Yt(Se)}function qr(){Yt(je)}function Yr(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Jr(c.postRun.shift());Yt(Ie)}function Qr(e){Se.unshift(e)}function Zr(e){je.unshift(e)}function Jr(e){Ie.unshift(e)}var et=0,vt=null;function Kr(e){var t;et++,(t=c.monitorRunDependencies)===null||t===void 0||t.call(c,et)}function tn(e){var t;if(et--,(t=c.monitorRunDependencies)===null||t===void 0||t.call(c,et),et==0&&vt){var r=vt;vt=null,r()}}function qt(e){var t;(t=c.onAbort)===null||t===void 0||t.call(c,e),e="Aborted("+e+")",st(e),xe=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw M(r),r}var en="data:application/octet-stream;base64,",Me=e=>e.startsWith(en);function rn(){var e="zxing_reader.wasm";return Me(e)?e:At(e)}var Dt;function Re(e){if(e==Dt&&ht)return new Uint8Array(ht);if(ft)return ft(e);throw"both async and sync fetching of the wasm failed"}function nn(e){return ht?Promise.resolve().then(()=>Re(e)):dt(e).then(t=>new Uint8Array(t),()=>Re(e))}function We(e,t,r){return nn(e).then(n=>WebAssembly.instantiate(n,t)).then(r,n=>{st(`failed to asynchronously prepare wasm: ${n}`),qt(n)})}function an(e,t,r,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Me(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(a=>{var o=WebAssembly.instantiateStreaming(a,r);return o.then(n,function(u){return st(`wasm streaming compile failed: ${u}`),st("falling back to ArrayBuffer instantiation"),We(t,r,n)})}):We(t,r,n)}function on(){return{a:Ya}}function sn(){var e=on();function t(n,a){return P=n.exports,xt=P.ma,Oe(),Ge=P.qa,Zr(P.na),tn(),P}Kr();function r(n){t(n.instance)}if(c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(n){st(`Module.instantiateWasm callback failed with error: ${n}`),M(n)}return Dt||(Dt=rn()),an(ht,Dt,e,r).catch(M),{}}var Yt=e=>{for(;e.length>0;)e.shift()(c)};c.noExitRuntime;var _=e=>nr(e),A=()=>ar(),Ft=[],Ot=0,un=e=>{var t=new Qt(e);return t.get_caught()||(t.set_caught(!0),Ot--),t.set_rethrown(!1),Ft.push(t),ir(t.excPtr),t.get_exception_ptr()},Y=0,cn=()=>{C(0,0);var e=Ft.pop();or(e.excPtr),Y=0};class Qt{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){b[this.ptr+4>>2]=t}get_type(){return b[this.ptr+4>>2]}set_destructor(t){b[this.ptr+8>>2]=t}get_destructor(){return b[this.ptr+8>>2]}set_caught(t){t=t?1:0,N[this.ptr+12]=t}get_caught(){return N[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,N[this.ptr+13]=t}get_rethrown(){return N[this.ptr+13]!=0}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){b[this.ptr+16>>2]=t}get_adjusted_ptr(){return b[this.ptr+16>>2]}get_exception_ptr(){var t=ur(this.get_type());if(t)return b[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var ln=e=>{throw Y||(Y=e),Y},St=e=>rr(e),Zt=e=>{var t=Y;if(!t)return St(0),0;var r=new Qt(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return St(0),t;for(var a of e){if(a===0||a===n)break;var o=r.ptr+16;if(sr(a,n,o))return St(a),t}return St(n),t},dn=()=>Zt([]),fn=e=>Zt([e]),hn=(e,t)=>Zt([e,t]),pn=()=>{var e=Ft.pop();e||qt("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Ft.push(e),e.set_rethrown(!0),e.set_caught(!1),Ot++),Y=t,Y},vn=(e,t,r)=>{var n=new Qt(e);throw n.init(t,r),Y=e,Ot++,Y},mn=()=>Ot,yn=()=>{qt("")},jt={},Jt=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function mt(e){return this.fromWireType(b[e>>2])}var ct={},rt={},It={},ke,Mt=e=>{throw new ke(e)},nt=(e,t,r)=>{e.forEach(function(s){It[s]=t});function n(s){var l=r(s);l.length!==e.length&&Mt("Mismatched type converter count");for(var d=0;d<e.length;++d)G(e[d],l[d])}var a=new Array(t.length),o=[],u=0;t.forEach((s,l)=>{rt.hasOwnProperty(s)?a[l]=rt[s]:(o.push(s),ct.hasOwnProperty(s)||(ct[s]=[]),ct[s].push(()=>{a[l]=rt[s],++u,u===o.length&&n(a)}))}),o.length===0&&n(a)},gn=e=>{var t=jt[e];delete jt[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,o=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));nt([e],o,u=>{var s={};return a.forEach((l,d)=>{var f=l.fieldName,p=u[d],m=l.getter,g=l.getterContext,x=u[d+a.length],S=l.setter,E=l.setterContext;s[f]={read:j=>p.fromWireType(m(g,j)),write:(j,at)=>{var R=[];S(E,j,x.toWireType(R,at)),Jt(R)}}}),[{name:t.name,fromWireType:l=>{var d={};for(var f in s)d[f]=s[f].read(l);return n(l),d},toWireType:(l,d)=>{for(var f in s)if(!(f in d))throw new TypeError(`Missing field: "${f}"`);var p=r();for(f in s)s[f].write(p,d[f]);return l!==null&&l.push(n,p),p},argPackAdvance:X,readValueFromPointer:mt,destructorFunction:n}]})},$n=(e,t,r,n,a)=>{},wn=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Be=e},Be,F=e=>{for(var t="",r=e;O[r];)t+=Be[O[r++]];return t},lt,w=e=>{throw new lt(e)};function bn(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=t.name;if(e||w(`type "${n}" must have a positive integer typeid pointer`),rt.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;w(`Cannot register type '${n}' twice`)}if(rt[e]=t,delete It[e],ct.hasOwnProperty(e)){var a=ct[e];delete ct[e],a.forEach(o=>o())}}function G(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return bn(e,t,r)}var X=8,Cn=(e,t,r,n)=>{t=F(t),G(e,{name:t,fromWireType:function(a){return!!a},toWireType:function(a,o){return o?r:n},argPackAdvance:X,readValueFromPointer:function(a){return this.fromWireType(O[a])},destructorFunction:null})},Tn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Kt=e=>{function t(r){return r.$$.ptrType.registeredClass.name}w(t(e)+" instance already deleted")},te=!1,He=e=>{},Pn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Ue=e=>{e.count.value-=1;var t=e.count.value===0;t&&Pn(e)},Le=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=Le(e,t,r.baseClass);return n===null?null:r.downcast(n)},Ve={},En=()=>Object.keys($t).length,_n=()=>{var e=[];for(var t in $t)$t.hasOwnProperty(t)&&e.push($t[t]);return e},yt=[],ee=()=>{for(;yt.length;){var e=yt.pop();e.$$.deleteScheduled=!1,e.delete()}},gt,An=e=>{gt=e,yt.length&&gt&&gt(ee)},xn=()=>{c.getInheritedInstanceCount=En,c.getLiveInheritedInstances=_n,c.flushPendingDeletes=ee,c.setDelayFunction=An},$t={},Dn=(e,t)=>{for(t===void 0&&w("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Fn=(e,t)=>(t=Dn(e,t),$t[t]),Rt=(e,t)=>{(!t.ptrType||!t.ptr)&&Mt("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&Mt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},wt(Object.create(e,{$$:{value:t,writable:!0}}))};function On(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Fn(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?Rt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Rt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o=this.registeredClass.getActualType(t),u=Ve[o];if(!u)return a.call(this);var s;this.isConst?s=u.constPointerType:s=u.pointerType;var l=Le(t,this.registeredClass,s.registeredClass);return l===null?a.call(this):this.isSmartPointer?Rt(s.registeredClass.instancePrototype,{ptrType:s,ptr:l,smartPtrType:this,smartPtr:e}):Rt(s.registeredClass.instancePrototype,{ptrType:s,ptr:l})}var wt=e=>typeof FinalizationRegistry>"u"?(wt=t=>t,e):(te=new FinalizationRegistry(t=>{Ue(t.$$)}),wt=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var a={$$:r};te.register(t,a,t)}return t},He=t=>te.unregister(t),wt(e)),Sn=()=>{Object.assign(Wt.prototype,{isAliasOf(e){if(!(this instanceof Wt)||!(e instanceof Wt))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||Kt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=wt(Object.create(Object.getPrototypeOf(this),{$$:{value:Tn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Kt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&w("Object already scheduled for deletion"),He(this),Ue(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Kt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&w("Object already scheduled for deletion"),yt.push(this),yt.length===1&&gt&&gt(ee),this.$$.deleteScheduled=!0,this}})};function Wt(){}var bt=(e,t)=>Object.defineProperty(t,"name",{value:e}),ze=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e[t].overloadTable.hasOwnProperty(o.length)||w(`Function '${r}' called with an invalid number of arguments (${o.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[o.length].apply(this,o)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},re=(e,t,r)=>{c.hasOwnProperty(e)?((r===void 0||c[e].overloadTable!==void 0&&c[e].overloadTable[r]!==void 0)&&w(`Cannot register public name '${e}' twice`),ze(c,e,e),c.hasOwnProperty(r)&&w(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[e].overloadTable[r]=t):(c[e]=t,r!==void 0&&(c[e].numArguments=r))},jn=48,In=57,Mn=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=jn&&t<=In?`_${e}`:e};function Rn(e,t,r,n,a,o,u,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=u,this.downcast=s,this.pureVirtualFunctions=[]}var ne=(e,t,r)=>{for(;t!==r;)t.upcast||w(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Wn(e,t){if(t===null)return this.isReference&&w(`null is not a valid ${this.name}`),0;t.$$||w(`Cannot pass "${ce(t)}" as a ${this.name}`),t.$$.ptr||w(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=ne(t.$$.ptr,r,this.registeredClass);return n}function kn(e,t){var r;if(t===null)return this.isReference&&w(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&w(`Cannot pass "${ce(t)}" as a ${this.name}`),t.$$.ptr||w(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&w(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=ne(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&w("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:w(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,Z.toHandle(()=>a.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:w("Unsupporting sharing policy")}return r}function Bn(e,t){if(t===null)return this.isReference&&w(`null is not a valid ${this.name}`),0;t.$$||w(`Cannot pass "${ce(t)}" as a ${this.name}`),t.$$.ptr||w(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&w(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=ne(t.$$.ptr,r,this.registeredClass);return n}var Hn=()=>{Object.assign(kt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)===null||t===void 0||t.call(this,e)},argPackAdvance:X,readValueFromPointer:mt,fromWireType:On})};function kt(e,t,r,n,a,o,u,s,l,d,f){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=u,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=d,this.rawDestructor=f,!a&&t.baseClass===void 0?n?(this.toWireType=Wn,this.destructorFunction=null):(this.toWireType=Bn,this.destructorFunction=null):this.toWireType=kn}var Ne=(e,t,r)=>{c.hasOwnProperty(e)||Mt("Replacing nonexistent public symbol"),c[e].overloadTable!==void 0&&r!==void 0?c[e].overloadTable[r]=t:(c[e]=t,c[e].argCount=r)},Un=(e,t,r)=>{e=e.replace(/p/g,"i");var n=c["dynCall_"+e];return n(t,...r)},Bt=[],Ge,T=e=>{var t=Bt[e];return t||(e>=Bt.length&&(Bt.length=e+1),Bt[e]=t=Ge.get(e)),t},Ln=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.includes("j"))return Un(e,t,r);var n=T(t)(...r);return n},Vn=(e,t)=>function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ln(e,t,n)},L=(e,t)=>{e=F(e);function r(){return e.includes("j")?Vn(e,t):T(t)}var n=r();return typeof n!="function"&&w(`unknown function pointer with signature ${e}: ${t}`),n},zn=(e,t)=>{var r=bt(t,function(n){this.name=t,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Xe,qe=e=>{var t=er(e),r=F(t);return J(t),r},Ht=(e,t)=>{var r=[],n={};function a(o){if(!n[o]&&!rt[o]){if(It[o]){It[o].forEach(a);return}r.push(o),n[o]=!0}}throw t.forEach(a),new Xe(`${e}: `+r.map(qe).join([", "]))},Nn=(e,t,r,n,a,o,u,s,l,d,f,p,m)=>{f=F(f),o=L(a,o),s&&(s=L(u,s)),d&&(d=L(l,d)),m=L(p,m);var g=Mn(f);re(g,function(){Ht(`Cannot construct ${f} due to unbound types`,[n])}),nt([e,t,r],n?[n]:[],x=>{x=x[0];var S,E;n?(S=x.registeredClass,E=S.instancePrototype):E=Wt.prototype;var j=bt(f,function(){if(Object.getPrototypeOf(this)!==at)throw new lt("Use 'new' to construct "+f);if(R.constructor_body===void 0)throw new lt(f+" has no accessible constructor");for(var hr=arguments.length,Vt=new Array(hr),zt=0;zt<hr;zt++)Vt[zt]=arguments[zt];var pr=R.constructor_body[Vt.length];if(pr===void 0)throw new lt(`Tried to invoke ctor of ${f} with invalid number of parameters (${Vt.length}) - expected (${Object.keys(R.constructor_body).toString()}) parameters instead!`);return pr.apply(this,Vt)}),at=Object.create(E,{constructor:{value:j}});j.prototype=at;var R=new Rn(f,j,at,m,S,o,s,d);if(R.baseClass){var K,Lt;(Lt=(K=R.baseClass).__derivedClasses)!==null&&Lt!==void 0||(K.__derivedClasses=[]),R.baseClass.__derivedClasses.push(R)}var go=new kt(f,R,!0,!1,!1),dr=new kt(f+"*",R,!1,!1,!1),fr=new kt(f+" const*",R,!1,!0,!1);return Ve[e]={pointerType:dr,constPointerType:fr},Ne(g,j),[go,dr,fr]})},ae=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(b[t+n*4>>2]);return r};function Gn(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function oe(e,t,r,n,a,o){var u=t.length;u<2&&w("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=t[1]!==null&&r!==null,l=Gn(t),d=t[0].name!=="void",f=u-2,p=new Array(f),m=[],g=[],x=function(){arguments.length!==f&&w(`function ${e} called with ${arguments.length} arguments, expected ${f}`),g.length=0;var S;m.length=s?2:1,m[0]=a,s&&(S=t[1].toWireType(g,this),m[1]=S);for(var E=0;E<f;++E)p[E]=t[E+2].toWireType(g,E<0||arguments.length<=E?void 0:arguments[E]),m.push(p[E]);var j=n(...m);function at(R){if(l)Jt(g);else for(var K=s?1:2;K<t.length;K++){var Lt=K===1?S:p[K-2];t[K].destructorFunction!==null&&t[K].destructorFunction(Lt)}if(d)return t[0].fromWireType(R)}return at(j)};return bt(e,x)}var Xn=(e,t,r,n,a,o)=>{var u=ae(t,r);a=L(n,a),nt([],[e],s=>{s=s[0];var l=`constructor ${s.name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[t-1]!==void 0)throw new lt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[t-1]=()=>{Ht(`Cannot construct ${s.name} due to unbound types`,u)},nt([],u,d=>(d.splice(1,0,null),s.registeredClass.constructor_body[t-1]=oe(l,d,null,a,o),[])),[]})},Ye=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},qn=(e,t,r,n,a,o,u,s,l)=>{var d=ae(r,n);t=F(t),t=Ye(t),o=L(a,o),nt([],[e],f=>{f=f[0];var p=`${f.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&f.registeredClass.pureVirtualFunctions.push(t);function m(){Ht(`Cannot call ${p} due to unbound types`,d)}var g=f.registeredClass.instancePrototype,x=g[t];return x===void 0||x.overloadTable===void 0&&x.className!==f.name&&x.argCount===r-2?(m.argCount=r-2,m.className=f.name,g[t]=m):(ze(g,t,p),g[t].overloadTable[r-2]=m),nt([],d,S=>{var E=oe(p,S,f,o,u);return g[t].overloadTable===void 0?(E.argCount=r-2,g[t]=E):g[t].overloadTable[r-2]=E,[]}),[]})},ie=[],Q=[],se=e=>{e>9&&--Q[e+1]===0&&(Q[e]=void 0,ie.push(e))},Yn=()=>Q.length/2-5-ie.length,Qn=()=>{Q.push(0,1,void 0,1,null,1,!0,1,!1,1),c.count_emval_handles=Yn},Z={toValue:e=>(e||w("Cannot use deleted val. handle = "+e),Q[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=ie.pop()||Q.length;return Q[t]=e,Q[t+1]=1,t}}}},Zn={name:"emscripten::val",fromWireType:e=>{var t=Z.toValue(e);return se(e),t},toWireType:(e,t)=>Z.toHandle(t),argPackAdvance:X,readValueFromPointer:mt,destructorFunction:null},Qe=e=>G(e,Zn),Jn=(e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(N[n])}:function(n){return this.fromWireType(O[n])};case 2:return r?function(n){return this.fromWireType(ut[n>>1])}:function(n){return this.fromWireType(pt[n>>1])};case 4:return r?function(n){return this.fromWireType(tt[n>>2])}:function(n){return this.fromWireType(b[n>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Kn=(e,t,r,n)=>{t=F(t);function a(){}a.values={},G(e,{name:t,constructor:a,fromWireType:function(o){return this.constructor.values[o]},toWireType:(o,u)=>u.value,argPackAdvance:X,readValueFromPointer:Jn(t,r,n),destructorFunction:null}),re(t,a)},ue=(e,t)=>{var r=rt[e];return r===void 0&&w(`${t} has unknown type ${qe(e)}`),r},ta=(e,t,r)=>{var n=ue(e,"enum");t=F(t);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:bt(`${n.name}_${t}`,function(){})}});a.values[r]=o,a[t]=o},ce=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},ea=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(De[r>>2])};case 8:return function(r){return this.fromWireType(Fe[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},ra=(e,t,r)=>{t=F(t),G(e,{name:t,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:X,readValueFromPointer:ea(t,r),destructorFunction:null})},na=(e,t,r,n,a,o,u)=>{var s=ae(t,r);e=F(e),e=Ye(e),a=L(n,a),re(e,function(){Ht(`Cannot call ${e} due to unbound types`,s)},t-1),nt([],s,l=>{var d=[l[0],null].concat(l.slice(1));return Ne(e,oe(e,d,null,a,o),t-1),[]})},aa=(e,t,r)=>{switch(t){case 1:return r?n=>N[n]:n=>O[n];case 2:return r?n=>ut[n>>1]:n=>pt[n>>1];case 4:return r?n=>tt[n>>2]:n=>b[n>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},oa=(e,t,r,n,a)=>{t=F(t);var o=f=>f;if(n===0){var u=32-8*r;o=f=>f<<u>>>u}var s=t.includes("unsigned"),l=(f,p)=>{},d;s?d=function(f,p){return l(p,this.name),p>>>0}:d=function(f,p){return l(p,this.name),p},G(e,{name:t,fromWireType:o,toWireType:d,argPackAdvance:X,readValueFromPointer:aa(t,r,n!==0),destructorFunction:null})},ia=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[t];function o(u){var s=b[u>>2],l=b[u+4>>2];return new a(N.buffer,l,s)}r=F(r),G(e,{name:r,fromWireType:o,argPackAdvance:X,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},sa=(e,t)=>{Qe(e)},ua=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var l=e.charCodeAt(++u);s=65536+((s&1023)<<10)|l&1023}if(s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|s&63}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|s&63}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|s&63}}return t[r]=0,r-a},Ct=(e,t,r)=>ua(e,O,t,r),ca=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Ze=typeof TextDecoder<"u"?new TextDecoder:void 0,Je=(e,t,r)=>{for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&Ze)return Ze.decode(e.subarray(t,a));for(var o="";t<a;){var u=e[t++];if(!(u&128)){o+=String.fromCharCode(u);continue}var s=e[t++]&63;if((u&224)==192){o+=String.fromCharCode((u&31)<<6|s);continue}var l=e[t++]&63;if((u&240)==224?u=(u&15)<<12|s<<6|l:u=(u&7)<<18|s<<12|l<<6|e[t++]&63,u<65536)o+=String.fromCharCode(u);else{var d=u-65536;o+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return o},la=(e,t)=>e?Je(O,e,t):"",da=(e,t)=>{t=F(t);var r=t==="std::string";G(e,{name:t,fromWireType(n){var a=b[n>>2],o=n+4,u;if(r)for(var s=o,l=0;l<=a;++l){var d=o+l;if(l==a||O[d]==0){var f=d-s,p=la(s,f);u===void 0?u=p:(u+="\0",u+=p),s=d+1}}else{for(var m=new Array(a),l=0;l<a;++l)m[l]=String.fromCharCode(O[o+l]);u=m.join("")}return J(n),u},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var o,u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||w("Cannot pass non-string to std::string"),r&&u?o=ca(a):o=a.length;var s=fe(4+o+1),l=s+4;if(b[s>>2]=o,r&&u)Ct(a,l,o+1);else if(u)for(var d=0;d<o;++d){var f=a.charCodeAt(d);f>255&&(J(l),w("String has UTF-16 code units that do not fit in 8 bits")),O[l+d]=f}else for(var d=0;d<o;++d)O[l+d]=a[d];return n!==null&&n.push(J,s),s},argPackAdvance:X,readValueFromPointer:mt,destructorFunction(n){J(n)}})},Ke=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,fa=(e,t)=>{for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&pt[n];)++n;if(r=n<<1,r-e>32&&Ke)return Ke.decode(O.subarray(e,r));for(var o="",u=0;!(u>=t/2);++u){var s=ut[e+u*2>>1];if(s==0)break;o+=String.fromCharCode(s)}return o},ha=(e,t,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<2)return 0;r-=2;for(var a=t,o=r<e.length*2?r/2:e.length,u=0;u<o;++u){var s=e.charCodeAt(u);ut[t>>1]=s,t+=2}return ut[t>>1]=0,t-a},pa=e=>e.length*2,va=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=tt[e+r*4>>2];if(a==0)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(a)}return n},ma=(e,t,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<4)return 0;for(var a=t,o=a+r-4,u=0;u<e.length;++u){var s=e.charCodeAt(u);if(s>=55296&&s<=57343){var l=e.charCodeAt(++u);s=65536+((s&1023)<<10)|l&1023}if(tt[t>>2]=s,t+=4,t+4>o)break}return tt[t>>2]=0,t-a},ya=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},ga=(e,t,r)=>{r=F(r);var n,a,o,u;t===2?(n=fa,a=ha,u=pa,o=s=>pt[s>>1]):t===4&&(n=va,a=ma,u=ya,o=s=>b[s>>2]),G(e,{name:r,fromWireType:s=>{for(var l=b[s>>2],d,f=s+4,p=0;p<=l;++p){var m=s+4+p*t;if(p==l||o(m)==0){var g=m-f,x=n(f,g);d===void 0?d=x:(d+="\0",d+=x),f=m+t}}return J(s),d},toWireType:(s,l)=>{typeof l!="string"&&w(`Cannot pass non-string to C++ string type ${r}`);var d=u(l),f=fe(4+d+t);return b[f>>2]=d/t,a(l,f+4,d+t),s!==null&&s.push(J,f),f},argPackAdvance:X,readValueFromPointer:mt,destructorFunction(s){J(s)}})},$a=(e,t,r,n,a,o)=>{jt[e]={name:F(t),rawConstructor:L(r,n),rawDestructor:L(a,o),fields:[]}},wa=(e,t,r,n,a,o,u,s,l,d)=>{jt[e].fields.push({fieldName:F(t),getterReturnType:r,getter:L(n,a),getterContext:o,setterArgumentType:u,setter:L(s,l),setterContext:d})},ba=(e,t)=>{t=F(t),G(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})},Ca=(e,t,r)=>O.copyWithin(e,t,t+r),le=[],Ta=(e,t,r,n)=>(e=le[e],t=Z.toValue(t),e(null,t,r,n)),Pa={},Ea=e=>{var t=Pa[e];return t===void 0?F(e):t},tr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},_a=e=>e===0?Z.toHandle(tr()):(e=Ea(e),Z.toHandle(tr()[e])),Aa=e=>{var t=le.length;return le.push(e),t},xa=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=ue(b[t+n*4>>2],"parameter "+n);return r},Da=Reflect.construct,Fa=(e,t,r)=>{var n=[],a=e.toWireType(n,r);return n.length&&(b[t>>2]=Z.toHandle(n)),a},Oa=(e,t,r)=>{var n=xa(e,t),a=n.shift();e--;var o=new Array(e),u=(l,d,f,p)=>{for(var m=0,g=0;g<e;++g)o[g]=n[g].readValueFromPointer(p+m),m+=n[g].argPackAdvance;var x=r===1?Da(d,o):d.apply(l,o);return Fa(a,f,x)},s=`methodCaller<(${n.map(l=>l.name).join(", ")}) => ${a.name}>`;return Aa(bt(s,u))},Sa=e=>{e>9&&(Q[e+1]+=1)},ja=e=>{var t=Z.toValue(e);Jt(t),se(e)},Ia=(e,t)=>{e=ue(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Z.toHandle(r)},Ma=(e,t,r,n)=>{var a=new Date().getFullYear(),o=new Date(a,0,1),u=new Date(a,6,1),s=o.getTimezoneOffset(),l=u.getTimezoneOffset(),d=Math.max(s,l);b[e>>2]=d*60,tt[t>>2]=+(s!=l);var f=g=>{var x=g>=0?"-":"+",S=Math.abs(g),E=String(Math.floor(S/60)).padStart(2,"0"),j=String(S%60).padStart(2,"0");return`UTC${x}${E}${j}`},p=f(s),m=f(l);l<s?(Ct(p,r,17),Ct(m,n,17)):(Ct(p,n,17),Ct(m,r,17))},Ra=()=>2147483648,Wa=e=>{var t=xt.buffer,r=(e-t.byteLength+65535)/65536;try{return xt.grow(r),Oe(),1}catch{}},ka=e=>{var t=O.length;e>>>=0;var r=Ra();if(e>r)return!1;for(var n=(l,d)=>l+(d-l%d)%d,a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var u=Math.min(r,n(Math.max(e,o),65536)),s=Wa(u);if(s)return!0}return!1},de={},Ba=()=>z||"./this.program",Tt=()=>{if(!Tt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ba()};for(var r in de)de[r]===void 0?delete t[r]:t[r]=de[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);Tt.strings=n}return Tt.strings},Ha=(e,t)=>{for(var r=0;r<e.length;++r)N[t++]=e.charCodeAt(r);N[t]=0},Ua=(e,t)=>{var r=0;return Tt().forEach((n,a)=>{var o=t+r;b[e+a*4>>2]=o,Ha(n,o),r+=n.length+1}),0},La=(e,t)=>{var r=Tt();b[e>>2]=r.length;var n=0;return r.forEach(a=>n+=a.length+1),b[t>>2]=n,0},Va=e=>52;function za(e,t,r,n,a){return 70}var Na=[null,[],[]],Ga=(e,t)=>{var r=Na[e];t===0||t===10?((e===1?Xt:st)(Je(r,0)),r.length=0):r.push(t)},Xa=(e,t,r,n)=>{for(var a=0,o=0;o<r;o++){var u=b[t>>2],s=b[t+4>>2];t+=8;for(var l=0;l<s;l++)Ga(e,O[u+l]);a+=s}return b[n>>2]=a,0},qa=e=>e;ke=c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},wn(),lt=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Sn(),xn(),Hn(),Xe=c.UnboundTypeError=zn(Error,"UnboundTypeError"),Qn();var Ya={s:un,v:cn,b:dn,g:fn,q:hn,Y:pn,f:vn,X:mn,e:ln,T:yn,ha:gn,S:$n,ba:Cn,fa:Nn,ea:Xn,w:qn,aa:Qe,x:Kn,h:ta,M:ra,N:na,t:oa,o:ia,ga:sa,L:da,C:ga,B:$a,ia:wa,ca:ba,$:Ca,E:Ta,ka:se,la:_a,K:Oa,O:Sa,P:ja,da:Ia,U:Ma,Z:ka,V:Ua,W:La,_:Va,R:za,J:Xa,F:fo,D:to,G:lo,n:ho,a:Qa,d:ro,p:Ka,j:co,I:so,u:io,H:uo,z:vo,Q:yo,l:no,k:eo,c:Ja,m:Za,A:oo,r:po,i:ao,y:mo,ja:qa},P=sn(),er=e=>(er=P.oa)(e),J=c._free=e=>(J=c._free=P.pa)(e),fe=c._malloc=e=>(fe=c._malloc=P.ra)(e),C=(e,t)=>(C=P.sa)(e,t),rr=e=>(rr=P.ta)(e),nr=e=>(nr=P.ua)(e),ar=()=>(ar=P.va)(),or=e=>(or=P.wa)(e),ir=e=>(ir=P.xa)(e),sr=(e,t,r)=>(sr=P.ya)(e,t,r),ur=e=>(ur=P.za)(e);c.dynCall_viijii=(e,t,r,n,a,o,u)=>(c.dynCall_viijii=P.Aa)(e,t,r,n,a,o,u),c.dynCall_jiji=(e,t,r,n,a)=>(c.dynCall_jiji=P.Ba)(e,t,r,n,a);var cr=c.dynCall_jiiii=(e,t,r,n,a)=>(cr=c.dynCall_jiiii=P.Ca)(e,t,r,n,a);c.dynCall_iiiiij=(e,t,r,n,a,o,u)=>(c.dynCall_iiiiij=P.Da)(e,t,r,n,a,o,u),c.dynCall_iiiiijj=(e,t,r,n,a,o,u,s,l)=>(c.dynCall_iiiiijj=P.Ea)(e,t,r,n,a,o,u,s,l),c.dynCall_iiiiiijj=(e,t,r,n,a,o,u,s,l,d)=>(c.dynCall_iiiiiijj=P.Fa)(e,t,r,n,a,o,u,s,l,d);function Qa(e,t){var r=A();try{return T(e)(t)}catch(n){if(_(r),n!==n+0)throw n;C(1,0)}}function Za(e,t,r,n){var a=A();try{T(e)(t,r,n)}catch(o){if(_(a),o!==o+0)throw o;C(1,0)}}function Ja(e,t,r){var n=A();try{T(e)(t,r)}catch(a){if(_(n),a!==a+0)throw a;C(1,0)}}function Ka(e,t,r,n){var a=A();try{return T(e)(t,r,n)}catch(o){if(_(a),o!==o+0)throw o;C(1,0)}}function to(e,t,r,n,a){var o=A();try{return T(e)(t,r,n,a)}catch(u){if(_(o),u!==u+0)throw u;C(1,0)}}function eo(e,t){var r=A();try{T(e)(t)}catch(n){if(_(r),n!==n+0)throw n;C(1,0)}}function ro(e,t,r){var n=A();try{return T(e)(t,r)}catch(a){if(_(n),a!==a+0)throw a;C(1,0)}}function no(e){var t=A();try{T(e)()}catch(r){if(_(t),r!==r+0)throw r;C(1,0)}}function ao(e,t,r,n,a,o,u,s,l,d,f){var p=A();try{T(e)(t,r,n,a,o,u,s,l,d,f)}catch(m){if(_(p),m!==m+0)throw m;C(1,0)}}function oo(e,t,r,n,a){var o=A();try{T(e)(t,r,n,a)}catch(u){if(_(o),u!==u+0)throw u;C(1,0)}}function io(e,t,r,n,a,o,u){var s=A();try{return T(e)(t,r,n,a,o,u)}catch(l){if(_(s),l!==l+0)throw l;C(1,0)}}function so(e,t,r,n,a,o){var u=A();try{return T(e)(t,r,n,a,o)}catch(s){if(_(u),s!==s+0)throw s;C(1,0)}}function uo(e,t,r,n,a,o,u,s){var l=A();try{return T(e)(t,r,n,a,o,u,s)}catch(d){if(_(l),d!==d+0)throw d;C(1,0)}}function co(e,t,r,n,a){var o=A();try{return T(e)(t,r,n,a)}catch(u){if(_(o),u!==u+0)throw u;C(1,0)}}function lo(e,t,r,n){var a=A();try{return T(e)(t,r,n)}catch(o){if(_(a),o!==o+0)throw o;C(1,0)}}function fo(e,t,r,n){var a=A();try{return T(e)(t,r,n)}catch(o){if(_(a),o!==o+0)throw o;C(1,0)}}function ho(e){var t=A();try{return T(e)()}catch(r){if(_(t),r!==r+0)throw r;C(1,0)}}function po(e,t,r,n,a,o,u,s){var l=A();try{T(e)(t,r,n,a,o,u,s)}catch(d){if(_(l),d!==d+0)throw d;C(1,0)}}function vo(e,t,r,n,a,o,u,s,l,d,f,p){var m=A();try{return T(e)(t,r,n,a,o,u,s,l,d,f,p)}catch(g){if(_(m),g!==g+0)throw g;C(1,0)}}function mo(e,t,r,n,a,o,u,s,l,d,f,p,m,g,x,S){var E=A();try{T(e)(t,r,n,a,o,u,s,l,d,f,p,m,g,x,S)}catch(j){if(_(E),j!==j+0)throw j;C(1,0)}}function yo(e,t,r,n,a){var o=A();try{return cr(e,t,r,n,a)}catch(u){if(_(o),u!==u+0)throw u;C(1,0)}}var Ut;vt=function e(){Ut||lr(),Ut||(vt=e)};function lr(){if(et>0||(Xr(),et>0))return;function e(){var t;Ut||(Ut=!0,c.calledRun=!0,!xe&&(qr(),y(c),(t=c.onRuntimeInitialized)===null||t===void 0||t.call(c),Yr()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return lr(),$=U,$}})();function Dr(i){return Gt(Et,i)}function Fr(i){return _r(Et,i)}async function Or(i,h){return Ar(Et,i,h)}async function Sr(i,h){return xr(Et,i,h)}const ye=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],jr=[...ye,["unknown"]].map(i=>i[0]),_t=new Map(ye);function Ir(i){for(const[h,v]of _t)if(i===v)return h;return"unknown"}function Mr(i){if(ge(i))return{width:i.naturalWidth,height:i.naturalHeight};if($e(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(we(i))return{width:i.videoWidth,height:i.videoHeight};if(Ce(i))return{width:i.width,height:i.height};if(Pe(i))return{width:i.displayWidth,height:i.displayHeight};if(be(i))return{width:i.width,height:i.height};if(Te(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function ge(i){try{return i instanceof HTMLImageElement}catch{return!1}}function $e(i){try{return i instanceof SVGImageElement}catch{return!1}}function we(i){try{return i instanceof HTMLVideoElement}catch{return!1}}function be(i){try{return i instanceof HTMLCanvasElement}catch{return!1}}function Ce(i){try{return i instanceof ImageBitmap}catch{return!1}}function Te(i){try{return i instanceof OffscreenCanvas}catch{return!1}}function Pe(i){try{return i instanceof VideoFrame}catch{return!1}}function Ee(i){try{return i instanceof Blob}catch{return!1}}function Rr(i){try{return i instanceof ImageData}catch{return!1}}function Wr(i,h){try{const v=new OffscreenCanvas(i,h);if(v.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return v;throw void 0}catch{const v=document.createElement("canvas");return v.width=i,v.height=h,v}}async function _e(i){if(ge(i)&&!await Ur(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if($e(i)&&!await Lr(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Pe(i)&&Vr(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(we(i)&&(i.readyState===0||i.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Ce(i)&&Nr(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:h,height:v}=Mr(i);if(h===0||v===0)return null;const c=Wr(h,v).getContext("2d");c.drawImage(i,0,0);try{return c.getImageData(0,0,h,v)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function kr(i){let h;try{if(globalThis.createImageBitmap)h=await createImageBitmap(i);else if(globalThis.Image){h=new Image;let $="";try{$=URL.createObjectURL(i),h.src=$,await h.decode()}finally{URL.revokeObjectURL($)}}else return i}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await _e(h)}function Br(i){const{width:h,height:v}=i;if(h===0||v===0)return null;const $=i.getContext("2d");try{return $.getImageData(0,0,h,v)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Hr(i){if(Ee(i))return await kr(i);if(Rr(i)){if(zr(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return be(i)||Te(i)?Br(i):await _e(i)}async function Ur(i){try{return await i.decode(),!0}catch{return!1}}async function Lr(i){var h;try{return await((h=i.decode)==null?void 0:h.call(i)),!0}catch{return!1}}function Vr(i){return i.format===null}function zr(i){return i.data.buffer.byteLength===0}function Nr(i){return i.width===0&&i.height===0}function Ae(i,h){return i instanceof DOMException?new DOMException(`${h}: ${i.message}`,i.name):i instanceof Error?new i.constructor(`${h}: ${i.message}`):new Error(`${h}: ${i}`)}class Gr extends EventTarget{constructor(v={}){var $;super();yr(this,it);try{const c=($=v==null?void 0:v.formats)==null?void 0:$.filter(y=>y!=="unknown");if((c==null?void 0:c.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const y of c!=null?c:[])if(!_t.has(y))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${y}' is not a valid enum value of type BarcodeFormat.`);gr(this,it,c!=null?c:[]),Dr().then(y=>{this.dispatchEvent(new CustomEvent("load",{detail:y}))}).catch(y=>{this.dispatchEvent(new CustomEvent("error",{detail:y}))})}catch(c){throw Ae(c,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return jr.filter(v=>v!=="unknown")}async detect(v){try{const $=await Hr(v);if($===null)return[];let c;try{Ee($)?c=await Or($,{tryHarder:!0,returnCodabarStartEnd:!0,formats:he(this,it).map(y=>_t.get(y))}):c=await Sr($,{tryHarder:!0,returnCodabarStartEnd:!0,formats:he(this,it).map(y=>_t.get(y))})}catch(y){throw console.error(y),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return c.map(y=>{const{topLeft:{x:M,y:U},topRight:{x:V,y:H},bottomLeft:{x:W,y:q},bottomRight:{x:z,y:k}}=y.position,At=Math.min(M,V,W,z),dt=Math.min(U,H,q,k),ft=Math.max(M,V,W,z),Xt=Math.max(U,H,q,k);return{boundingBox:new DOMRectReadOnly(At,dt,ft-At,Xt-dt),rawValue:y.text,format:Ir(y.format),cornerPoints:[{x:M,y:U},{x:V,y:H},{x:z,y:k},{x:W,y:q}]}})}catch($){throw Ae($,"Failed to execute 'detect' on 'BarcodeDetector'")}}}return it=new WeakMap,D.BarcodeDetector=Gr,D.setZXingModuleOverrides=Fr,Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),D}({});
